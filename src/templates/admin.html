<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin</title>
    <link rel="stylesheet" href="../static/css/admin.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="block add-task">
        <h1>Add task</h1>
        <form action="add_task" method="post">
            <label for="password">Password </label>
            <input type="text" name="password">
            <br>
            <br>
            <label for="description">Description </label>
            <input type="text" name="description">
            <br>
            <br>
            <label for="name">Name </label>
            <input type="text" name="name">
            <br>
            <br>
            <label for="reward">Reward </label>
            <input type="number" name="reward">
            <br>
            <br>
            <label for="public_link">Public Link </label>
            <input type="text" name="public_link">
            <br>
            <br>
            <label for="link">Link </label>
            <input type="url" name="link">
            <br>
            <br>
            <label for="img_link">Image link </label>
            <input type="url" name="img_link">
            <br>
            <br>
            <input type="checkbox" name="needs_checking" checked>
            <label for="needs_checking">Needs checking </label>
            <br>
            <br>
            <input class="submit-btn" type="submit" value="Submit">
        </form>
    </div>

    <div class="block tasks-list">
        <h1>Tasks list</h1>
        {% if data != None %}
            {% for key, value in data.items() %}
                <p>id: {{ value["task_id"] }} name: {{ value["name"] }} link: {{ value["link"] }} done: {{ value["times_done"] }}</p>
            {% endfor %}
        {% endif %}
    </div>

    <div class="block delete-task">
        <h1>Delete task</h1>
        <form action="delete_task" method="post">
            <label for="password">Password </label>
            <input type="text" name="password">
            <br>
            <br>
            <label for="task_id">Task id: </label>
            <input type="number" name="task_id">
            <br>
            <br>
            <input class="submit-btn" type="submit" value="Delete">
        </form>
    </div>

    <div class="block set_revenue">
        <h1>Set revenue</h1>
        <form action="set_revenue" method="post">
            <label for="password">Password: </label>
            <input type="text" name="password">
            <br>
            <br>
            <label for="user_id">User ID: </label>
            <input type="number" name="user_id">
            <br>
            <br>
            <label for="percent">Percent: </label>
            <input type="number" name="percent">
            <br>
            <br>
            <input class="submit-btn" type="submit" value="Set">
        </form>
    </div>

    <div class="block db_set">
        <h1>Change DB</h1>
        <form action="db_set" method="post">
            <label for="password">Password: </label>
            <input type="text" name="password">
            <br>
            <br>
            <label for="user_id">User/Task ID: </label>
            <input type="number" name="user_id">
            <br>
            <br>
            <label for="table">Table: </label>
            <input type="text" name="table">
            <br>
            <br>
            <label for="column">Column: </label>
            <input type="text" name="column">
            <br>
            <br>
            <label for="value">Value: </label>
            <input type="text" name="value">
            <br>
            <br>
            <input class="submit-btn" type="submit" value="Set">
        </form>
    </div>

    <div class="block users">
        <h1>Statistic</h1>
        <h3>All users: {{ users.all }}</h3>
        <p>Today: {{ users.today }}</p>
        <p>Last week: {{ users.week }}</p>
        <p>Last month: {{ users.month }}</p>
        <h3>DAU: {{ users.dau }}</h3>
        <h3>WAU: {{ users.wau }}</h3>
        <h3>Total Balance: {{ users.total_balance }}</h3>
        <h3>Average Balance: {{ users.average_balance }}</h3>
    </div>
</body>
</html>